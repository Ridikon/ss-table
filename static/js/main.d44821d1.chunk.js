(window["webpackJsonpinternal-project"]=window["webpackJsonpinternal-project"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(6),o=n.n(s),c=n(2),l=n(1),i=n.n(l),u=n(3),m=n(4),p=["January","February","March","April","May","June","July","August","September","October","November","December"],d=[{id:1,name:"John Dow",img:"https://img.icons8.com/carbon-copy/2x/user.png",projects:[{id:1,name:"John Project 1",status:"billable",start:"March 31, 2019",end:"June 2, 2019",progress:80},{id:2,name:"John Project 2",status:"vacation",start:"February 19, 2019",end:"September 20, 2019",progress:50},{id:3,name:"John Project 3",status:"vacation",start:"May 8, 2019",end:"September 20, 2019",progress:60}]},{id:2,name:"Mike Johnson",img:"https://img.icons8.com/carbon-copy/2x/businessman.png",projects:[{id:1,name:"Mike Project 1",status:"internal",start:"January 21, 2019",end:"July 2, 2019",progress:100},{id:2,name:"Mike Project 2",status:"potential",start:"June 21, 2019",end:"August 10, 2019",progress:30}]},{id:3,name:"Ben Gur",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[{id:1,name:"Ben Project 1",status:"billable",start:"March 8, 2019",end:"June 2, 2019",progress:80},{id:2,name:"Ben Project 2",status:"potential",start:"May 20, 2019",end:"September 20, 2019",progress:50},{id:3,name:"Ben Project 3",status:"vacation",start:"May 15, 2019",end:"September 20, 2019",progress:60},{id:4,name:"Ben Project 4",status:"internal",start:"May 15, 2019",end:"September 20, 2019",progress:60},{id:5,name:"Ben Project 5",status:"vacation",start:"February 15, 2019",end:"May 20, 2019",progress:100}]},{id:4,name:"Loki",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[]}],h=function(){function e(){Object(u.a)(this,e),this._month=p,this._users=d}return Object(m.a)(e,[{key:"getUsers",value:function(){return this._users}},{key:"getMonth",value:function(){return this._month}}]),e}(),f=function e(){var t=this;Object(u.a)(this,e),this.getDays=function(e){for(var t=0,n=1;n<=e;n++)t+=new Date(2019,n,0).getDate();return t},this.getPositionDay=function(e){var n=new Date(e).getDate(),a=new Date(e).getMonth();return t.getDays(a)+n}},b=n(8),g=n(7),v=n(9),E=(n(17),function(e){var t=e.start,n=e.end,a=e.progress,s=e.numberOfMonth,o=e.bgClass,c=e.textClass,l=e.colWidth,i=["progress-line-bg"],u=["progress-line-text"],m=new f;return o&&i.push(o),c&&u.push(c),r.a.createElement("div",{className:"progress-line"},r.a.createElement("span",{className:"progress-line-wrapper",style:function(){var e={},a=l/m.getDays(s),r=m.getPositionDay(t),o=m.getPositionDay(n);return e.left=a*r+"px",e.width=a*o-a*r+"px",e}()},r.a.createElement("span",{className:i.join(" ")}),r.a.createElement("span",{className:u.join(" ")},a?"".concat(a,"%"):"")))}),y=(n(18),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(b.a)(this,Object(g.a)(t).call(this,e))).progressService=new f,n.state={progressColWidth:0,todayPosition:0},n.resizeEvent=function(e){setTimeout(function(){n.computeProgressColWidth()},100)},n.progressRef=r.a.createRef(),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeEvent),this.computeProgressColWidth()}},{key:"componentDidUpdate",value:function(e){e.numberOfMonth!==this.props.numberOfMonth&&this.computeProgressColWidth()}},{key:"computeProgressColWidth",value:function(){var e=this.props,t=e.numberOfMonth,n=e.getProgressColWidth,a=this.progressRef.current.clientWidth-50,r=a/this.progressService.getDays(t);n(a),this.setState({progressColWidth:a,todayPosition:r*this.progressService.getPositionDay(new Date)})}},{key:"render",value:function(){var e=this,n=this.props,a=n.numberOfMonth,s=n.user,o=this.state,c=o.progressColWidth,l=o.todayPosition;return i.a.map(s.projects,function(n,o){var i=n.id,u=n.status,m=n.name,p=n.start,d=n.end,h=n.progress,f=["badge","badge-pill",t.setClass(u,"badge")];return r.a.createElement("tr",{key:i,className:"user-row"},t.renderClientInfo(s,o),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"pl-3"},m)),r.a.createElement("td",null,r.a.createElement("span",{className:f.join(" ")},u)),r.a.createElement("td",{className:"progress-col",colSpan:a+1,ref:e.progressRef},r.a.createElement(E,{bgClass:t.setClass(u,"bg"),textClass:t.setClass(u,"text"),colWidth:c,numberOfMonth:a,start:p,end:d,progress:h}),r.a.createElement("span",{style:{left:"".concat(l,"px")},className:"bg-primary vertical-line"})))})}}],[{key:"renderClientInfo",value:function(e,t){var n=e.img,a=e.name,s=e.projects;return t?null:r.a.createElement("td",{rowSpan:s.length,className:"user"},r.a.createElement("div",null,r.a.createElement("img",{src:n,alt:"user"}),r.a.createElement("a",{href:"#"},a)))}},{key:"setClass",value:function(e,t){switch(e){case"billable":return"".concat(t,"-success");case"vacation":return"".concat(t,"-secondary");case"internal":return"".concat(t,"-primary");case"potential":return"".concat(t,"-warning");default:return""}}}]),t}(a.Component)),j=function(e){var t=e.children,n=e.onClickEvent,a=e.numberOfMonth;return r.a.createElement("div",{className:"dropdown dropleft"},r.a.createElement("button",{className:"btn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("label",{htmlFor:"month"},"Month count:"),r.a.createElement("input",{className:"form-control",id:"month",type:"number",name:"number",value:a,onChange:function(e){n(e.target.value)},max:"12",min:"1"})))},w=(n(19),function(e){var t=e.numberOfMonth,n=e.onChangeMonthNumber,a=e.oneDayWidth,s=(new h).getMonth(),o=(new Date).getFullYear(),c=function(e){var t=function(e,t){return new Date(t,e,0).getDate()}(e+1,o);return a*t},l=i.a.map(s,function(e,n){return n>t-1?null:(t>8&&(e=i.a.slice(e,0,3)),r.a.createElement("th",{key:e,className:"column-month",style:{width:"".concat(c(n),"px")}},r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,e," ",o))))});return r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Full Name"),r.a.createElement("th",{style:{width:"15%"}},"Deal"),r.a.createElement("th",{style:{width:"120px"}}),l,r.a.createElement("th",{style:{width:"".concat(50,"px")}},r.a.createElement("div",{className:"table-head-dropdown"},r.a.createElement(j,{onClickEvent:n,numberOfMonth:t},r.a.createElement("i",{className:"fa fa-sliders","aria-hidden":"true"})))))}),O=(n(20),function(e){var t=e.numberOfMonth,n=e.onFilter,s=e.onResetFilter,o=Object(a.useState)(""),l=Object(c.a)(o,2),i=l[0],u=l[1],m=Object(a.useState)(""),p=Object(c.a)(m,2),d=p[0],h=p[1],f=Object(a.useState)(""),b=Object(c.a)(f,2),g=b[0],v=b[1],E=function(e){var t=e.target,a=t.value,r=t.name;switch(r){case"name":u(a);break;case"deal":h(a);break;case"status":v(a);break;default:return}n(a,r)};return r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"name",value:i,placeholder:"Title",onChange:E})),r.a.createElement("th",null,r.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"deal",value:d,placeholder:"Title",onChange:E})),r.a.createElement("th",null,r.a.createElement("select",{className:"form-control form-control-sm",value:g,name:"status",onChange:E},r.a.createElement("option",{value:""},"Status"),r.a.createElement("option",{value:"billable"},"Billable"),r.a.createElement("option",{value:"vacation"},"Vacation"),r.a.createElement("option",{value:"internal"},"Internal"),r.a.createElement("option",{value:"potential"},"Potential"))),r.a.createElement("th",{colSpan:t}),r.a.createElement("th",{className:"text-right",style:{width:"".concat(50,"px")}},r.a.createElement("span",{className:"filter-reset-btn",onClick:function(){u(""),h(""),v(""),s()}},"Reset")))});n(21);function M(e,t,n){return e[t].toLowerCase().includes(n.toLowerCase())}function C(e,t,n){return i.a.filter(e,function(e){return e.projects=i.a.filter(e.projects,function(e){return M(e,t,n)}),e.projects.length?e:null})}var N=new h,D=new f,P=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),u=l[0],m=l[1],p=Object(a.useState)(0),d=Object(c.a)(p,2),h=d[0],f=d[1],b=Object(a.useState)(""),g=Object(c.a)(b,2),v=g[0],E=g[1],j=Object(a.useState)(12),P=Object(c.a)(j,2),k=P[0],S=P[1],x=h/D.getDays(12),J=function(e,t,n){switch(e=i.a.map(e,function(e){if(!e.projects.length){var t={id:Math.random(),name:"",status:"",start:null,end:null,progress:null};e.projects.push(t)}return e}),t){case"name":return i.a.filter(e,function(e){return M(e,t,n)});case"deal":return C(e,"name",n);case"status":return C(e,"status",n);default:return e}}(i.a.cloneDeep(n),v,u);Object(a.useEffect)(function(){s(N.getUsers())},[]);var W=function(e){f(e)};return r.a.createElement("div",{className:"table-responsive-md"},r.a.createElement("table",{className:"table table-sm"},r.a.createElement("thead",{className:"table-head"},r.a.createElement(w,{onChangeMonthNumber:function(e){S(e)},numberOfMonth:k,oneDayWidth:x}),r.a.createElement(O,{numberOfMonth:k,onFilter:function(e,t){m(e),E(t)},onResetFilter:function(){m(""),E("")}})),r.a.createElement("tbody",{className:"table-body"},i.a.map(J,function(e){return r.a.createElement(y,{key:e.id,user:e,numberOfMonth:k,getProgressColWidth:W})}))))};o.a.render(r.a.createElement(P,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.d44821d1.chunk.js.map