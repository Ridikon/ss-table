(window["webpackJsonpinternal-project"]=window["webpackJsonpinternal-project"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(6),o=n.n(s),c=n(2),l=n(1),i=n.n(l),u=n(3),m=n(4),p=["January","February","March","April","May","June","July","August","September","October","November","December"],h=[{id:1,name:"John Dow",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[{id:1,name:"John Project 1",status:"billable",start:"March 31, 2019",end:"June 2, 2019",progress:80},{id:2,name:"John Project 2",status:"vacation",start:"February 19, 2019",end:"September 20, 2019",progress:50},{id:3,name:"John Project 3",status:"vacation",start:"May 8, 2019",end:"September 20, 2019",progress:60}]},{id:2,name:"Mike Johnson",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[{id:1,name:"Mike Project 1",status:"internal",start:"January 21, 2019",end:"July 2, 2019",progress:100},{id:2,name:"Mike Project 2",status:"potential",start:"June 21, 2019",end:"August 10, 2019",progress:30}]},{id:3,name:"Ben Gur",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[{id:1,name:"Ben Project 1",status:"billable",start:"March 8, 2019",end:"June 2, 2019",progress:80},{id:2,name:"Ben Project 2",status:"potential",start:"May 20, 2019",end:"September 20, 2019",progress:50},{id:3,name:"Ben Project 3",status:"vacation",start:"May 15, 2019",end:"September 20, 2019",progress:60},{id:4,name:"Ben Project 4",status:"internal",start:"May 15, 2019",end:"September 20, 2019",progress:60},{id:5,name:"Ben Project 5",status:"vacation",start:"February 15, 2019",end:"May 20, 2019",progress:100}]},{id:4,name:"Loki",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[]}],d=function(){function e(){Object(u.a)(this,e),this._month=p,this._users=h}return Object(m.a)(e,[{key:"getUsers",value:function(){return this._users}},{key:"getMonth",value:function(){return this._month}}]),e}(),g=function e(){var t=this;Object(u.a)(this,e),this._getDays=function(e){for(var t=0,n=1;n<=e;n++)t+=new Date(2019,n,0).getDate();return t},this.getPositionDay=function(e){var n=new Date(e).getDate(),a=new Date(e).getMonth();return t._getDays(a)+n},this.getOneDayWidth=function(e,n){return e/t._getDays(n)},this.getTodayPosition=function(e,n,a){return t.getOneDayWidth(e,n)*t.getPositionDay(a)}},f=n(8),b=n(7),v=n(9),y=(n(17),new g),E=y.getOneDayWidth,j=y.getPositionDay,O=function(e){var t=e.start,n=e.end,a=e.progress,s=e.numberOfMonth,o=e.bgClass,c=e.textClass,l=e.colWidth,i=["progress-line-bg"],u=["progress-line-text"],m=E(l,s),p=j(t),h=j(n);return o&&i.push(o),c&&u.push(c),r.a.createElement("div",{className:"progress-line"},r.a.createElement("span",{className:"progress-line-wrapper",style:function(){var e={};return e.left=m*p+"px",e.width=m*h-m*p+"px",e}()},r.a.createElement("span",{className:i.join(" ")}),r.a.createElement("span",{className:u.join(" ")},a&&"".concat(a,"%"))))},w=(n(18),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).progressService=new g,n.state={progressColWidth:0,todayPosition:0},n.resizeEvent=function(){setTimeout(function(){n.computeProgressColWidth(),n.computeTodayPosition()},100)},n.renderProject=function(e,a){var s=n.props,o=s.numberOfMonth,c=s.user,l=n.state,i=l.progressColWidth,u=l.todayPosition,m=e.id,p=e.status,h=e.name,d=e.start,g=e.end,f=e.progress,b=["badge","badge-pill",t.setClass(p,"badge")];return r.a.createElement("tr",{key:m,className:"user-row"},a?null:t.renderClientInfo(c),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"pl-3"},h)),r.a.createElement("td",null,r.a.createElement("span",{className:b.join(" ")},p)),r.a.createElement("td",{className:"progress-col",colSpan:o+1,ref:a?null:n.progressRef},r.a.createElement(O,{bgClass:t.setClass(p,"bg"),textClass:t.setClass(p,"text"),colWidth:i,numberOfMonth:o,start:d,end:g,progress:f}),r.a.createElement("span",{style:{left:"".concat(u,"px")},className:"bg-primary vertical-line"})))},n.progressRef=r.a.createRef(),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeEvent),this.computeProgressColWidth(),this.computeTodayPosition()}},{key:"componentDidUpdate",value:function(e){e.numberOfMonth!==this.props.numberOfMonth&&(this.computeProgressColWidth(),this.computeTodayPosition())}},{key:"computeProgressColWidth",value:function(){(0,this.props.setProgressColWidth)(this.getProgressColWidth()),this.setState({progressColWidth:this.getProgressColWidth()})}},{key:"computeTodayPosition",value:function(){var e=this.props.numberOfMonth;this.setState({todayPosition:this.progressService.getTodayPosition(this.getProgressColWidth(),e,new Date)})}},{key:"getProgressColWidth",value:function(){return this.progressRef.current?this.progressRef.current.clientWidth-50:null}},{key:"render",value:function(){return i.a.map(this.props.user.projects,this.renderProject)}}],[{key:"renderClientInfo",value:function(e){var t=e.img,n=e.name,a=e.projects;return r.a.createElement("td",{rowSpan:a.length,className:"user"},r.a.createElement("div",null,r.a.createElement("img",{src:t,alt:"user"}),r.a.createElement("a",{href:"#"},n)))}},{key:"setClass",value:function(e,t){switch(e){case"billable":return"".concat(t,"-success");case"vacation":return"".concat(t,"-secondary");case"internal":return"".concat(t,"-primary");case"potential":return"".concat(t,"-warning");default:return""}}}]),t}(a.Component)),M=function(e){var t=e.children,n=e.onChangeMonthNumber,a=e.numberOfMonth;return r.a.createElement("div",{className:"dropdown dropleft"},r.a.createElement("button",{className:"btn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("label",{htmlFor:"month"},"Month count:"),r.a.createElement("input",{className:"form-control",id:"month",type:"number",name:"number",value:a,onChange:function(e){return n(e.target.value)},max:"12",min:"1"})))},P=(n(19),function(e){var t=e.numberOfMonth,n=e.onChangeMonthNumber,a=e.oneDayWidth,s=(new d).getMonth(),o=(new Date).getFullYear(),c=function(e){var t=function(e,t){return new Date(t,e,0).getDate()}(e+1,o);return a*t},l=i.a.map(s,function(e,n){return n>t-1?null:(t>8&&(e=i.a.slice(e,0,3).join("")),r.a.createElement("th",{key:e,className:"column-month",style:{width:"".concat(c(n),"px")}},r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,"".concat(e," ").concat(o)))))});return r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%",minWidth:"200px"}},"Full Name"),r.a.createElement("th",{style:{width:"15%",minWidth:"150px"}},"Deal"),r.a.createElement("th",{style:{width:"120px",minWidth:"100px"}}),l,r.a.createElement("th",{style:{width:"".concat(50,"px")}},r.a.createElement("div",{className:"table-head-dropdown"},r.a.createElement(M,{onChangeMonthNumber:n,numberOfMonth:t},r.a.createElement("i",{className:"fa fa-sliders","aria-hidden":"true"})))))}),C=(n(20),function(e){var t=e.value,n=e.name,a=e.placeholder,s=e.onSearch;return r.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:n,value:t,placeholder:a,onChange:s})}),N=function(e){var t=e.value,n=e.name,a=e.selectOptions,s=e.onSearch;return r.a.createElement("select",{className:"form-control form-control-sm",value:t,name:n,onChange:s},i.a.map(a,function(e){var t=e.name,n=e.value;return r.a.createElement("option",{key:n,value:n},t)}))},D=[{name:"Status",value:""},{name:"Billable",value:"billable"},{name:"Vacation",value:"vacation"},{name:"Internal",value:"internal"},{name:"Potential",value:"potential"}],S=function(e){var t=e.numberOfMonth,n=e.onFilter,s=e.onResetFilter,o=Object(a.useState)(""),l=Object(c.a)(o,2),i=l[0],u=l[1],m=Object(a.useState)(""),p=Object(c.a)(m,2),h=p[0],d=p[1],g=Object(a.useState)(""),f=Object(c.a)(g,2),b=f[0],v=f[1],y=function(e){var t=e.target,a=t.value,r=t.name;switch(r){case"name":u(a);break;case"deal":d(a);break;case"status":v(a);break;default:return}n(a,r)};return r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(C,{value:i,name:"name",placeholder:"Title",onSearch:y})),r.a.createElement("th",null,r.a.createElement(C,{value:h,name:"deal",placeholder:"Title",onSearch:y})),r.a.createElement("th",null,r.a.createElement(N,{value:b,name:"status",selectOptions:D,onSearch:y})),r.a.createElement("th",{colSpan:t}),r.a.createElement("th",{className:"text-right filter-reset-col",style:{width:"".concat(50,"px")}},r.a.createElement("span",{className:"filter-reset-btn",onClick:function(){u(""),d(""),v(""),s()}},"Reset")))};n(21);function W(e,t,n){return e[t].toLowerCase().includes(n.toLowerCase())}function k(e,t,n){return i.a.filter(e,function(e){return e.projects=i.a.filter(e.projects,function(e){return W(e,t,n)}),e.projects.length?e:null})}var x=new d,J=new g,B=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),u=l[0],m=l[1],p=Object(a.useState)(0),h=Object(c.a)(p,2),d=h[0],g=h[1],f=Object(a.useState)(""),b=Object(c.a)(f,2),v=b[0],y=b[1],E=Object(a.useState)(12),j=Object(c.a)(E,2),O=j[0],M=j[1],C=J.getOneDayWidth(d,12),N=function(e,t,n){switch(e=i.a.map(e,function(e){if(!e.projects.length){var t={id:Math.random(),name:"",status:"",start:null,end:null,progress:null};e.projects.push(t)}return e}),t){case"name":return i.a.filter(e,function(e){return W(e,t,n)});case"deal":return k(e,"name",n);case"status":return k(e,"status",n);default:return e}}(i.a.cloneDeep(n),v,u);Object(a.useEffect)(function(){s(x.getUsers())},[]);return r.a.createElement("div",{className:"table-responsive-md"},r.a.createElement("table",{className:"table table-sm"},r.a.createElement("thead",{className:"table-head"},r.a.createElement(P,{onChangeMonthNumber:M,numberOfMonth:O,oneDayWidth:C}),r.a.createElement(S,{numberOfMonth:O,onFilter:function(e,t){m(e),y(t)},onResetFilter:function(){m(""),y("")}})),r.a.createElement("tbody",{className:"table-body"},i.a.map(N,function(e){return r.a.createElement(w,{key:e.id,user:e,numberOfMonth:O,setProgressColWidth:g})}))))};o.a.render(r.a.createElement(B,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.e1396f1b.chunk.js.map