(window["webpackJsonpinternal-project"]=window["webpackJsonpinternal-project"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),o=a.n(s),c=a(2),l=a(1),i=a.n(l),u=a(3),m=a(4),p=["January","February","March","April","May","June","July","August","September","October","November","December"],d=[{id:1,name:"John Dow",img:"https://img.icons8.com/carbon-copy/2x/user.png",projects:[{id:1,name:"John Project 1",status:"billable",start:"March 31, 2019",end:"June 2, 2019",progress:80},{id:2,name:"John Project 2",status:"vacation",start:"February 19, 2019",end:"September 20, 2019",progress:50},{id:3,name:"John Project 3",status:"vacation",start:"May 8, 2019",end:"September 20, 2019",progress:60}]},{id:2,name:"Mike Johnson",img:"https://img.icons8.com/carbon-copy/2x/businessman.png",projects:[{id:1,name:"Mike Project 1",status:"internal",start:"January 21, 2019",end:"July 2, 2019",progress:100},{id:2,name:"Mike Project 2",status:"potential",start:"June 21, 2019",end:"August 10, 2019",progress:30}]},{id:3,name:"Ben Gur",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[{id:1,name:"Ben Project 1",status:"billable",start:"March 8, 2019",end:"June 2, 2019",progress:80},{id:2,name:"Ben Project 2",status:"potential",start:"May 20, 2019",end:"September 20, 2019",progress:50},{id:3,name:"Ben Project 3",status:"vacation",start:"May 15, 2019",end:"September 20, 2019",progress:60},{id:4,name:"Ben Project 4",status:"internal",start:"May 15, 2019",end:"September 20, 2019",progress:60},{id:5,name:"Ben Project 5",status:"vacation",start:"February 15, 2019",end:"May 20, 2019",progress:100}]},{id:4,name:"Loki",img:"https://img.icons8.com/plasticine/100/000000/user-male-circle.png",projects:[]}],h=function(){function e(){Object(u.a)(this,e),this._month=p,this._users=d}return Object(m.a)(e,[{key:"getUsers",value:function(){return this._users}},{key:"getMonth",value:function(){return this._month}}]),e}(),b=function e(){var t=this;Object(u.a)(this,e),this.getDays=function(e){for(var t=0,a=1;a<=e;a++)t+=new Date(2019,a,0).getDate();return t},this.getPositionDay=function(e){var a=new Date(e).getDate(),n=new Date(e).getMonth();return t.getDays(n)+a}},f=a(8),g=a(7),v=a(9),y=(a(17),function(e){var t=e.start,a=e.end,n=e.progress,s=e.numberOfMonth,o=e.bgClass,c=e.textClass,l=e.colWidth,i=["progress-line-bg"],u=["progress-line-text"],m=new b;return o&&i.push(o),c&&u.push(c),r.a.createElement("div",{className:"progress-line"},r.a.createElement("span",{className:"progress-line-wrapper",style:function(){var e={},n=l/m.getDays(s),r=m.getPositionDay(t),o=m.getPositionDay(a);return e.left=n*r+"px",e.width=n*o-n*r+"px",e}()},r.a.createElement("span",{className:i.join(" ")}),r.a.createElement("span",{className:u.join(" ")},n?"".concat(n,"%"):"")))}),E=(a(18),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).progressService=new b,a.state={progressColWidth:0,todayPosition:0},a.progressRef=r.a.createRef(),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.computeProgressColWidth()}},{key:"componentDidUpdate",value:function(e){e.numberOfMonth!==this.props.numberOfMonth&&this.computeProgressColWidth()}},{key:"computeProgressColWidth",value:function(){var e=this.props,t=e.numberOfMonth,a=e.getProgressColWidth,n=this.progressRef.current.clientWidth-50,r=n/this.progressService.getDays(t);a(n),this.setState({progressColWidth:n,todayPosition:r*this.progressService.getPositionDay(new Date)})}},{key:"render",value:function(){var e=this,a=this.props,n=a.numberOfMonth,s=a.user,o=this.state,c=o.progressColWidth,l=o.todayPosition;return i.a.map(s.projects,function(a,o){var i=a.id,u=a.status,m=a.name,p=a.start,d=a.end,h=a.progress,b=["badge","badge-pill",t.setClass(u,"badge")];return r.a.createElement("tr",{key:i,className:"user-row"},t.renderClientInfo(s,o),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"pl-3"},m)),r.a.createElement("td",null,r.a.createElement("span",{className:b.join(" ")},u)),r.a.createElement("td",{className:"progress-col",colSpan:n+1,ref:e.progressRef},r.a.createElement(y,{bgClass:t.setClass(u,"bg"),textClass:t.setClass(u,"text"),colWidth:c,numberOfMonth:n,start:p,end:d,progress:h}),r.a.createElement("span",{style:{left:"".concat(l,"px")},className:"bg-primary vertical-line"})))})}}],[{key:"renderClientInfo",value:function(e,t){var a=e.img,n=e.name,s=e.projects;return t?null:r.a.createElement("td",{rowSpan:s.length,className:"user"},r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:"user"}),r.a.createElement("a",{href:"#"},n)))}},{key:"setClass",value:function(e,t){switch(e){case"billable":return"".concat(t,"-success");case"vacation":return"".concat(t,"-secondary");case"internal":return"".concat(t,"-primary");case"potential":return"".concat(t,"-warning");default:return""}}}]),t}(n.Component)),j=function(e){var t=e.children,a=e.onClickEvent,n=e.numberOfMonth;return r.a.createElement("div",{className:"dropdown dropleft"},r.a.createElement("button",{className:"btn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("label",{htmlFor:"month"},"Month count:"),r.a.createElement("input",{className:"form-control",id:"month",type:"number",name:"number",value:n,onChange:function(e){a(e.target.value)},max:"12",min:"1"})))},w=(a(19),function(e){var t=e.numberOfMonth,a=e.onChangeMonthNumber,n=e.oneDayWidth,s=(new h).getMonth(),o=(new Date).getFullYear(),c=function(e){var t=function(e,t){return new Date(t,e,0).getDate()}(e+1,o);return n*t},l=i.a.map(s,function(e,a){return a>t-1?null:(t>8&&(e=i.a.slice(e,0,3)),r.a.createElement("th",{key:e,className:"column-month",style:{width:"".concat(c(a),"px")}},r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,e," ",o))))});return r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Full Name"),r.a.createElement("th",{style:{width:"15%"}},"Deal"),r.a.createElement("th",{style:{width:"120px"}}),l,r.a.createElement("th",{style:{width:"".concat(50,"px")}},r.a.createElement("div",{className:"table-head-dropdown"},r.a.createElement(j,{onClickEvent:a,numberOfMonth:t},r.a.createElement("i",{className:"fa fa-sliders","aria-hidden":"true"})))))}),O=(a(20),function(e){var t=e.numberOfMonth,a=e.onFilter,s=e.onResetFilter,o=Object(n.useState)(""),l=Object(c.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),d=p[0],h=p[1],b=Object(n.useState)(""),f=Object(c.a)(b,2),g=f[0],v=f[1],y=function(e){var t=e.target,n=t.value,r=t.name;switch(r){case"name":u(n);break;case"deal":h(n);break;case"status":v(n);break;default:return}a(n,r)};return r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"name",value:i,placeholder:"Title",onChange:y})),r.a.createElement("th",null,r.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"deal",value:d,placeholder:"Title",onChange:y})),r.a.createElement("th",null,r.a.createElement("select",{className:"form-control form-control-sm",value:g,name:"status",onChange:y},r.a.createElement("option",{value:""},"Status"),r.a.createElement("option",{value:"billable"},"Billable"),r.a.createElement("option",{value:"vacation"},"Vacation"),r.a.createElement("option",{value:"internal"},"Internal"),r.a.createElement("option",{value:"potential"},"Potential"))),r.a.createElement("th",{colSpan:t}),r.a.createElement("th",{className:"text-right",style:{width:"".concat(50,"px")}},r.a.createElement("span",{className:"filter-reset-btn",onClick:function(){u(""),h(""),v(""),s()}},"Reset")))});a(21);function M(e,t,a){return e[t].toLowerCase().includes(a.toLowerCase())}function N(e,t,a){return i.a.filter(e,function(e){return e.projects=i.a.filter(e.projects,function(e){return M(e,t,a)}),e.projects.length?e:null})}var C=new h,D=new b,k=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(""),l=Object(c.a)(o,2),u=l[0],m=l[1],p=Object(n.useState)(0),d=Object(c.a)(p,2),h=d[0],b=d[1],f=Object(n.useState)(""),g=Object(c.a)(f,2),v=g[0],y=g[1],j=Object(n.useState)(12),k=Object(c.a)(j,2),P=k[0],S=k[1],x=h/D.getDays(12),J=function(e,t,a){switch(e=i.a.map(e,function(e){if(!e.projects.length){var t={id:Math.random(),name:"",status:"",start:null,end:null,progress:null};e.projects.push(t)}return e}),t){case"name":return i.a.filter(e,function(e){return M(e,t,a)});case"deal":return N(e,"name",a);case"status":return N(e,"status",a);default:return e}}(i.a.cloneDeep(a),v,u);Object(n.useEffect)(function(){s(C.getUsers())},[]);var W=function(e){b(e)};return r.a.createElement("div",{className:"table-responsive-md"},r.a.createElement("table",{className:"table table-sm"},r.a.createElement("thead",{className:"table-head"},r.a.createElement(w,{onChangeMonthNumber:function(e){S(e)},numberOfMonth:P,oneDayWidth:x}),r.a.createElement(O,{numberOfMonth:P,onFilter:function(e,t){m(e),y(t)},onResetFilter:function(){m(""),y("")}})),r.a.createElement("tbody",{className:"table-body"},i.a.map(J,function(e){return r.a.createElement(E,{key:e.id,user:e,numberOfMonth:P,getProgressColWidth:W})}))))};o.a.render(r.a.createElement(k,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.30b5c4af.chunk.js.map